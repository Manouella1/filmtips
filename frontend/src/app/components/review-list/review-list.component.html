<div class="movies-container">
  <h2>Movies with Reviews</h2>
  <ul>
    <li *ngFor="let movie of movies" class="movie-item">
      <div class="movie-details">
        <strong>{{ movie.title }}</strong>
        <button class="add-review-button" (click)="selectedMovieId = movie.id">
          Add Review
        </button>
      </div>
    </li>
  </ul>
</div>

<div class="review-form" *ngIf="selectedMovieId">
  <h3>Add Review for "{{ getSelectedMovieTitle() }}"</h3>
  <form (ngSubmit)="addReview()" class="review-form-content">
    <div class="form-group">
      <label for="reviewerName">Your Name:</label>
      <input
        id="reviewerName"
        [(ngModel)]="newReview.reviewer_name"
        name="reviewerName"
        placeholder="Enter your name"
        required
      />
    </div>

    <div class="form-group">
      <label for="reviewText">Review:</label>
      <textarea
        id="reviewText"
        [(ngModel)]="newReview.review_text"
        name="reviewText"
        placeholder="Write your review here"
        required
      ></textarea>
    </div>

    <div class="form-group">
      <label for="rating">Rating (1-5):</label>
      <input
        id="rating"
        type="number"
        [(ngModel)]="newReview.rating"
        name="rating"
        min="1"
        max="5"
        required
      />
    </div>

    <div class="form-buttons">
      <button type="submit" class="submit-button">Submit Review</button>
      <button type="button" class="cancel-button" (click)="resetReviewForm()">
        Cancel
      </button>
    </div>
  </form>
</div>
