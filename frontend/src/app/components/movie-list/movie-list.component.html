<!-- Skapa en ny film -->
<div>
  <h3>Create a New Movie</h3>
  <form (ngSubmit)="createMovie()">
    <label for="title">Title:</label>
    <input id="title" [(ngModel)]="newMovie.title" name="title" required />

    <label for="description">Description:</label>
    <input
      id="description"
      [(ngModel)]="newMovie.description"
      name="description"
      required
    />

    <label for="genre">Genre:</label>
    <input id="genre" [(ngModel)]="newMovie.genre" name="genre" required />

    <label for="rating">Rating:</label>
    <input
      id="rating"
      type="number"
      [(ngModel)]="newMovie.rating"
      name="rating"
      min="0"
      max="10"
      required
    />

    <button type="submit">Add Movie</button>
  </form>
</div>

<hr />

<!-- Lista med filmer -->
<h3>Movies</h3>
<ul>
  <li class="movie-list-item" *ngFor="let movie of movies">
    <h4 class="movie-list-title">{{ movie.title }}</h4>
    <p>{{ movie.description }}</p>
    <p><strong>Genre:</strong> {{ movie.genre }}</p>
    <p><strong>Rating:</strong> {{ movie.rating }}</p>
    <button (click)="editMovie(movie)">Edit</button>
    <button (click)="deleteMovie(movie.id)">Delete</button>
  </li>
</ul>

<!-- Redigera film (modal) -->
<div *ngIf="isEditing && movieToEdit" class="modal">
  <div class="modal-content">
    <h3>Edit Movie</h3>
    <form (ngSubmit)="updateMovie()">
      <label for="edit-title">Title:</label>
      <input
        id="edit-title"
        [(ngModel)]="movieToEdit.title"
        name="title"
        required
      />

      <label for="edit-description">Description:</label>
      <textarea
        id="edit-description"
        [(ngModel)]="movieToEdit.description"
        name="description"
        required
      ></textarea>

      <label for="edit-genre">Genre:</label>
      <input
        id="edit-genre"
        [(ngModel)]="movieToEdit.genre"
        name="genre"
        required
      />

      <label for="edit-rating">Rating:</label>
      <input
        id="edit-rating"
        type="number"
        [(ngModel)]="movieToEdit.rating"
        name="rating"
        min="0"
        max="10"
        required
      />

      <button type="submit">Save Changes</button>
      <button type="button" (click)="closeEditModal()">Cancel</button>
    </form>
  </div>
</div>
